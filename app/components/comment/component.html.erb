<article class="comment">
  <div class="flex gap-3 items-center">
    <div class="flex items-center gap-2">
      <span class="avatar"></span>
      <p class="text-sm"><%= comment.user.email %></p>
    </div>
    <span class="dot-divider mt-1"></span>
    <p class="text-sm"><%= time_ago_in_words(comment.created_at) %> ago</p>
    <div class="flex gap-4 items-center ml-auto">
      <%= turbo_frame_tag(dom_id(comment, :controls)) do %>
        <% if author %>
          <%= render(partial: 'comments/controls', locals: { comment: comment }) %>
        <% else %>
          <% if author_of_post? %>
            <span class="badge">
              Author of post
            </span>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
  <%= turbo_stream_from(dom_id(comment, :content)) %>
  <%= render(partial: 'comments/content', locals: { comment: comment }) %>
  <div class="flex items-center gap-2">
    <%#= render(Common::Likes::Component.new(can_like: comment.user != user, user: user, target: comment, likes: comment.likes, path: toggle_like_comment_path(comment))) %>
  </div>
  <%#= render(Comment::Replies::Component.new(comment:, replies: comment.replies, user:)) %>
</article>